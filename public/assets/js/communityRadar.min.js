$(document).ready((function(){let t=!0;const e=function(){if(void 0!==window.localStorage.getItem("msg")&&null!==window.localStorage.getItem("msg")){let e=JSON.parse(window.localStorage.getItem("msg"));document.title=(100*e.stats.last24h.energyPrice_kwh).toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})+"/kWh "+(-1*e.stats.last24h.incomeSaldo).toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})+"/Tag";let a=$("#communityChart"),i=["24 Stunden","7 Tage","30 Tage","365 Tage"];new Chart(a,{type:"radar",data:{datasets:[{label:"Minimum",data:[e.community.last24h.energyPrice_kwh.min,e.community.last7d.energyPrice_kwh.min,e.community.last30d.energyPrice_kwh.min,e.community.last365d.energyPrice_kwh.min],backgroundColor:"rgba(237,166,69,1)"},{label:"Ich",data:[e.community.last24h.energyPrice_kwh.me,e.community.last7d.energyPrice_kwh.me,e.community.last30d.energyPrice_kwh.me,e.community.last365d.energyPrice_kwh.me],backgroundColor:"rgba(20,109,59.1)"},{label:"Maximum",data:[e.community.last24h.energyPrice_kwh.max,e.community.last7d.energyPrice_kwh.max,e.community.last30d.energyPrice_kwh.max,e.community.last365d.energyPrice_kwh.max],backgroundColor:"rgba(192,192,192,1)"}],labels:i},options:{responsive:!0,legend:{position:"top"},plugins:{datalabels:{display:!0,color:"#000000",formatter:function(t,e){return""+t.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:4})}}},title:{display:!1,text:""},animation:{animateScale:t,animateRotate:t},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(t,e){return i[t.index]+":"+e.datasets[0].data[t.index]+"â‚¬"}}},elements:{}}});t&&setTimeout((function(){$("#info").addClass("show")}),2e3),t=!1;let n=e.stats.last24h.consumption_wh*e.meterinfo.energyPriceWh+e.stats.last24h.baseCosts;Math.round(1e4*(1- -1*e.stats.last24h.incomeSaldo/n))}},a=function(){$.getJSON("/msg",(function(t){window.localStorage.setItem("msg",JSON.stringify(t)),e()}))};e(),setInterval(a,12e4),a()}));